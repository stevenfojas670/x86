     1                                 %line 1+1 a10procs.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 
     8                                 
     9                                 
    10                                 
    11                                 
    12                                 
    13                                 
    14                                 
    15                                 
    16                                 
    17                                 
    18                                 
    19                                 
    20                                 
    21                                 
    22                                 [section .data]
    23                                 
    24                                 
    25                                 
    26                                 
    27                                 TRUE equ 1
    28                                 FALSE equ 0
    29                                 
    30                                 SUCCESS equ 0
    31                                 NOSUCCESS equ 1
    32                                 
    33                                 STDIN equ 0
    34                                 STDOUT equ 1
    35                                 STDERR equ 2
    36                                 
    37                                 SYS_read equ 0
    38                                 SYS_write equ 1
    39                                 SYS_open equ 2
    40                                 SYS_close equ 3
    41                                 SYS_fork equ 57
    42                                 SYS_exit equ 60
    43                                 SYS_creat equ 85
    44                                 SYS_time equ 201
    45                                 
    46                                 LF equ 10
    47                                 SPACE equ " "
    48                                 NULL equ 0
    49                                 ESC equ 27
    50                                 
    51                                 
    52                                 
    53                                 
    54                                 GL_COLOR_BUFFER_BIT equ 16384
    55                                 GL_POINTS equ 0
    56                                 GL_POLYGON equ 9
    57                                 GL_PROJECTION equ 5889
    58                                 
    59                                 GLUT_RGB equ 0
    60                                 GLUT_SINGLE equ 0
    61                                 
    62                                 
    63                                 
    64                                 
    65                                 R1_MIN equ 0
    66                                 R1_MAX equ 250
    67                                 
    68                                 R2_MIN equ 1
    69                                 R2_MAX equ 250
    70                                 
    71                                 OP_MIN equ 1
    72                                 OP_MAX equ 250
    73                                 
    74                                 SP_MIN equ 1
    75                                 SP_MAX equ 100
    76                                 
    77                                 X_OFFSET equ 320
    78                                 Y_OFFSET equ 240
    79                                 
    80                                 
    81                                 
    82                                 
    83 00000000 55736167653A20202E-    errUsage db "Usage:  ./spiro -r1 <senary number> "
    84 00000000 2F737069726F202D72-
    85 00000000 31203C73656E617279-
    86 00000000 206E756D6265723E20 
    87 00000024 2D7232203C73656E61-     db "-r2 <senary number> -op <senary number> "
    88 00000024 7279206E756D626572-
    89 00000024 3E202D6F70203C7365-
    90 00000024 6E617279206E756D62-
    91 00000024 65723E20           
    92 0000004C 2D7370203C73656E61-     db "-sp <senary number> -cl <b/g/r/y/p/w>"
    93 0000004C 7279206E756D626572-
    94 0000004C 3E202D636C203C622F-
    95 0000004C 672F722F792F702F77-
    96 0000004C 3E                 
    97 00000071 0A00                    db LF, NULL
    98 00000073 4572726F722C20696E-    errBadCL db "Error, invalid or incomplete command line arguments."
    99 00000073 76616C6964206F7220-
   100 00000073 696E636F6D706C6574-
   101 00000073 6520636F6D6D616E64-
   102 00000073 206C696E6520617267-
   103 00000073 756D656E74732E     
   104 000000A7 0A00                    db LF, NULL
   105                                 
   106 000000A9 4572726F722C207261-    errR1sp db "Error, radius 1 specifier incorrect."
   107 000000A9 646975732031207370-
   108 000000A9 656369666965722069-
   109 000000A9 6E636F72726563742E 
   110 000000CD 0A00                    db LF, NULL
   111 000000CF 4572726F722C207261-    errR1value db "Error, radius 1 value must be between 0 and 1054(6)."
   112 000000CF 646975732031207661-
   113 000000CF 6C7565206D75737420-
   114 000000CF 626520626574776565-
   115 000000CF 6E203020616E642031-
   116 000000CF 3035342836292E     
   117 00000103 0A00                    db LF, NULL
   118                                 
   119 00000105 4572726F722C207261-    errR2sp db "Error, radius 2 specifier incorrect."
   120 00000105 646975732032207370-
   121 00000105 656369666965722069-
   122 00000105 6E636F72726563742E 
   123 00000129 0A00                    db LF, NULL
   124 0000012B 4572726F722C207261-    errR2value db "Error, radius 2 value must be between 1 and 1054(6)."
   125 0000012B 646975732032207661-
   126 0000012B 6C7565206D75737420-
   127 0000012B 626520626574776565-
   128 0000012B 6E203120616E642031-
   129 0000012B 3035342836292E     
   130 0000015F 0A00                    db LF, NULL
   131                                 
   132 00000161 4572726F722C206F66-    errOPsp db "Error, offset position specifier incorrect."
   133 00000161 6673657420706F7369-
   134 00000161 74696F6E2073706563-
   135 00000161 696669657220696E63-
   136 00000161 6F72726563742E     
   137 0000018C 0A00                    db LF, NULL
   138 0000018E 4572726F722C206F66-    errOPvalue db "Error, offset position value must be between 1 and 1054(6)."
   139 0000018E 6673657420706F7369-
   140 0000018E 74696F6E2076616C75-
   141 0000018E 65206D757374206265-
   142 0000018E 206265747765656E20-
   143 0000018E 3120616E6420313035-
   144 0000018E 342836292E         
   145 000001C9 0A00                    db LF, NULL
   146                                 
   147 000001CB 4572726F722C207370-    errSPsp db "Error, speed specifier incorrect."
   148 000001CB 656564207370656369-
   149 000001CB 6669657220696E636F-
   150 000001CB 72726563742E       
   151 000001EC 0A00                    db LF, NULL
   152 000001EE 4572726F722C207370-    errSPvalue db "Error, speed value must be between 1 and 244(6)."
   153 000001EE 6565642076616C7565-
   154 000001EE 206D75737420626520-
   155 000001EE 6265747765656E2031-
   156 000001EE 20616E642032343428-
   157 000001EE 36292E             
   158 0000021E 0A00                    db LF, NULL
   159                                 
   160 00000220 4572726F722C20636F-    errCLsp db "Error, color specifier incorrect."
   161 00000220 6C6F72207370656369-
   162 00000220 6669657220696E636F-
   163 00000220 72726563742E       
   164 00000241 0A00                    db LF, NULL
   165 00000243 4572726F722C20636F-    errCLvalue db "Error, color value must be b, g, r, p, or w. "
   166 00000243 6C6F722076616C7565-
   167 00000243 206D75737420626520-
   168 00000243 622C20672C20722C20-
   169 00000243 702C206F7220772E20 
   170 00000270 0A00                    db LF, NULL
   171                                 
   172                                 
   173                                 
   174                                 
   175 00000272 0000803F               fltOne dd 1.0
   176 00000276 00000000               fltZero dd 0.0
   177 0000027A 00000000               fltTmp1 dd 0.0
   178 0000027E 00000000               fltTmp2 dd 0.0
   179                                 
   180 00000282 00000000               t dd 0.0
   181 00000286 0000803F               s dd 1.0
   182 0000028A 0AD7A33B               tStep dd 0.005
   183 0000028E 00000000               sStep dd 0.0
   184 00000292 00000000               x dd 0
   185 00000296 00000000               y dd 0
   186                                 
   187 0000029A 00000000               r1 dd 0.0
   188 0000029E 00000000               r2 dd 0.0
   189 000002A2 00000000               ofp dd 0.0
   190 000002A6 00000000               radii dd 0.0
   191                                 
   192 000002AA 00409C45               scale dd 5000.0
   193 000002AE 0000B443               limit dd 360.0
   194 000002B2 00000000               iterations dd 0
   195                                 
   196 000002B6 00                     red db 0
   197 000002B7 00                     green db 0
   198 000002B8 00                     blue db 0
   199                                 
   200                                 
   201                                 
   202                                 [section .text]
   203                                 
   204                                 
   205                                 
   206                                 
   207                                 [extern glutInit]
   208                                 %line 149+0 a10procs.asm
   209                                 [extern glutInitDisplayMode]
   210                                 [extern glutInitWindowSize]
   211                                 [extern glutInitWindowPosition]
   212                                 %line 150+1 a10procs.asm
   213                                 [extern glutCreateWindow]
   214                                 %line 150+0 a10procs.asm
   215                                 [extern glutMainLoop]
   216                                 %line 151+1 a10procs.asm
   217                                 [extern glutDisplayFunc]
   218                                 %line 151+0 a10procs.asm
   219                                 [extern glutIdleFunc]
   220                                 [extern glutReshapeFunc]
   221                                 [extern glutKeyboardFunc]
   222                                 %line 152+1 a10procs.asm
   223                                 [extern glutSwapBuffers]
   224                                 %line 152+0 a10procs.asm
   225                                 [extern gluPerspective]
   226                                 [extern glutPostRedisplay]
   227                                 %line 153+1 a10procs.asm
   228                                 [extern glClearColor]
   229                                 %line 153+0 a10procs.asm
   230                                 [extern glClearDepth]
   231                                 [extern glDepthFunc]
   232                                 [extern glEnable]
   233                                 [extern glShadeModel]
   234                                 %line 154+1 a10procs.asm
   235                                 [extern glClear]
   236                                 %line 154+0 a10procs.asm
   237                                 [extern glLoadIdentity]
   238                                 [extern glMatrixMode]
   239                                 [extern glViewport]
   240                                 %line 155+1 a10procs.asm
   241                                 [extern glTranslatef]
   242                                 %line 155+0 a10procs.asm
   243                                 [extern glRotatef]
   244                                 [extern glBegin]
   245                                 [extern glEnd]
   246                                 [extern glVertex3f]
   247                                 [extern glColor3f]
   248                                 %line 156+1 a10procs.asm
   249                                 [extern glVertex2f]
   250                                 %line 156+0 a10procs.asm
   251                                 [extern glVertex2i]
   252                                 [extern glColor3ub]
   253                                 [extern glOrtho]
   254                                 [extern glFlush]
   255                                 [extern glVertex2d]
   256                                 %line 157+1 a10procs.asm
   257                                 
   258                                 [extern cosf]
   259                                 %line 158+0 a10procs.asm
   260                                 [extern sinf]
   261                                 %line 159+1 a10procs.asm
   262                                 
   263                                 
   264                                 
   265                                 
   266                                 
   267                                 
   268                                 
   269                                 
   270                                 
   271                                 
   272                                 
   273                                 
   274                                 
   275                                 
   276                                 
   277                                 
   278                                 
   279                                 
   280                                 
   281                                 
   282                                 
   283                                 
   284                                 
   285                                 
   286                                 
   287                                 
   288                                 
   289                                 
   290                                 
   291                                 
   292                                 [global getRadii]
   293                                 getRadii:
   294                                 
   295 00000000 55                     push rbp
   296 00000001 4889E5                 mov rbp, rsp
   297 00000004 53                     push rbx
   298 00000005 4152                   push r10
   299 00000007 4153                   push r11
   300 00000009 4154                   push r12
   301 0000000B 4155                   push r13
   302 0000000D 4156                   push r14
   303 0000000F 4157                   push r15
   304                                 
   305 00000011 4883FF0B               cmp rdi, 11
   306 00000015 0F82D5020000           jb invalidArgCount
   307 0000001B 49C7C401000000         mov r12, 1
   308 00000022 49C7C200000000         mov r10, 0
   309                                 
   310                                 
   311                                 
   312 00000029 4E8B3CE6               mov r15, qword [rsi + r12 * 8]
   313 0000002D 438A0417               mov al, byte [r15 + r10]
   314 00000031 3C2D                   cmp al, 45
   315 00000033 0F8591020000           jne r1InvalidSpec
   316 00000039 49FFC2                 inc r10
   317 0000003C 438A0417               mov al, byte [r15 + r10]
   318 00000040 3C72                   cmp al, 114
   319 00000042 0F8582020000           jne r1InvalidSpec
   320 00000048 49FFC2                 inc r10
   321 0000004B 438A0417               mov al, byte [r15 + r10]
   322 0000004F 3C31                   cmp al, 49
   323 00000051 0F8573020000           jne r1InvalidSpec
   324                                 
   325                                 
   326 00000057 49C7C200000000         mov r10, 0
   327 0000005E 49FFC4                 inc r12
   328 00000061 57                     push rdi
   329 00000062 4A8B3CE6               mov rdi, qword [rsi + r12 * 8]
   330 00000066 E8AF040000             call StringToNum
   331 0000006B 5F                     pop rdi
   332                                 
   333 0000006C 83F800                 cmp eax, R1_MIN
   334 0000006F 0F8242020000           jb r1InvalidValue
   335                                 
   336 00000075 3DFA000000             cmp eax, R1_MAX
   337 0000007A 0F8737020000           ja r1InvalidValue
   338                                 
   339 00000080 8902                   mov dword [rdx], eax
   340                                 
   341                                 
   342 00000082 49C7C200000000         mov r10, 0
   343 00000089 49FFC4                 inc r12
   344 0000008C 4E8B3CE6               mov r15, qword [rsi + r12 * 8]
   345 00000090 438A0417               mov al, byte [r15 + r10]
   346 00000094 3C2D                   cmp al, 45
   347 00000096 0F8508020000           jne r2InvalidSpec
   348 0000009C 49FFC2                 inc r10
   349 0000009F 438A0417               mov al, byte [r15 + r10]
   350 000000A3 3C72                   cmp al, 114
   351 000000A5 0F85F9010000           jne r2InvalidSpec
   352 000000AB 49FFC2                 inc r10
   353 000000AE 438A0417               mov al, byte [r15 + r10]
   354 000000B2 3C32                   cmp al, 50
   355 000000B4 0F85EA010000           jne r2InvalidSpec
   356                                 
   357                                 
   358 000000BA 49C7C200000000         mov r10, 0
   359 000000C1 49FFC4                 inc r12
   360 000000C4 57                     push rdi
   361 000000C5 4A8B3CE6               mov rdi, qword [rsi + r12 * 8]
   362 000000C9 E84C040000             call StringToNum
   363 000000CE 5F                     pop rdi
   364                                 
   365 000000CF 83F801                 cmp eax, R2_MIN
   366 000000D2 0F82B9010000           jb r2InvalidValue
   367                                 
   368 000000D8 3DFA000000             cmp eax, R2_MAX
   369 000000DD 0F87AE010000           ja r2InvalidValue
   370                                 
   371 000000E3 8901                   mov dword [rcx], eax
   372                                 
   373                                 
   374 000000E5 49C7C200000000         mov r10, 0
   375 000000EC 49FFC4                 inc r12
   376 000000EF 4E8B3CE6               mov r15, qword [rsi + r12 * 8]
   377 000000F3 438A0417               mov al, byte [r15 + r10]
   378 000000F7 3C2D                   cmp al, 45
   379 000000F9 0F857F010000           jne opIncorrectSpec
   380 000000FF 49FFC2                 inc r10
   381 00000102 438A0417               mov al, byte [r15 + r10]
   382 00000106 3C6F                   cmp al, 111
   383 00000108 0F8570010000           jne opIncorrectSpec
   384 0000010E 49FFC2                 inc r10
   385 00000111 438A0417               mov al, byte [r15 + r10]
   386 00000115 3C70                   cmp al, 112
   387 00000117 0F8561010000           jne opIncorrectSpec
   388                                 
   389                                 
   390 0000011D 49C7C200000000         mov r10, 0
   391 00000124 49FFC4                 inc r12
   392 00000127 57                     push rdi
   393 00000128 4A8B3CE6               mov rdi, qword [rsi + r12 * 8]
   394 0000012C E8E9030000             call StringToNum
   395 00000131 5F                     pop rdi
   396                                 
   397 00000132 83F801                 cmp eax, OP_MIN
   398 00000135 0F822D010000           jb opInvalidValue
   399                                 
   400 0000013B 3DFA000000             cmp eax, OP_MAX
   401 00000140 0F8722010000           ja opInvalidValue
   402                                 
   403 00000146 418900                 mov dword [r8], eax
   404                                 
   405                                 
   406 00000149 49C7C200000000         mov r10, 0
   407 00000150 49FFC4                 inc r12
   408 00000153 4E8B3CE6               mov r15, qword [rsi + r12 * 8]
   409 00000157 438A0417               mov al, byte [r15 + r10]
   410 0000015B 3C2D                   cmp al, 45
   411 0000015D 0F85EF000000           jne spIncorrectSpec
   412 00000163 49FFC2                 inc r10
   413 00000166 438A0417               mov al, byte [r15 + r10]
   414 0000016A 3C73                   cmp al, 115
   415 0000016C 0F85E0000000           jne spIncorrectSpec
   416 00000172 49FFC2                 inc r10
   417 00000175 438A0417               mov al, byte [r15 + r10]
   418 00000179 3C70                   cmp al, 112
   419 0000017B 0F85D1000000           jne spIncorrectSpec
   420                                 
   421                                 
   422 00000181 49C7C200000000         mov r10, 0
   423 00000188 49FFC4                 inc r12
   424 0000018B 57                     push rdi
   425 0000018C 4A8B3CE6               mov rdi, qword [rsi + r12 * 8]
   426 00000190 E885030000             call StringToNum
   427 00000195 5F                     pop rdi
   428                                 
   429 00000196 83F801                 cmp eax, SP_MIN
   430 00000199 0F829D000000           jb spIncorrectValue
   431                                 
   432 0000019F 83F864                 cmp eax, SP_MAX
   433 000001A2 0F8794000000           ja spIncorrectValue
   434                                 
   435 000001A8 418901                 mov dword [r9], eax
   436                                 
   437                                 
   438 000001AB 49C7C200000000         mov r10, 0
   439 000001B2 49FFC4                 inc r12
   440 000001B5 4E8B3CE6               mov r15, qword [rsi + r12 * 8]
   441 000001B9 438A0417               mov al, byte [r15 + r10]
   442 000001BD 3C2D                   cmp al, 45
   443 000001BF 7569                   jne clIncorrectSpec
   444 000001C1 49FFC2                 inc r10
   445 000001C4 438A0417               mov al, byte [r15 + r10]
   446 000001C8 3C63                   cmp al, 99
   447 000001CA 755E                   jne clIncorrectSpec
   448 000001CC 49FFC2                 inc r10
   449 000001CF 438A0417               mov al, byte [r15 + r10]
   450 000001D3 3C6C                   cmp al, 108
   451 000001D5 7553                   jne clIncorrectSpec
   452                                 
   453                                 
   454 000001D7 49C7C200000000         mov r10, 0
   455 000001DE 49FFC4                 inc r12
   456 000001E1 4E8B3CE6               mov r15, qword [rsi + r12 * 8]
   457 000001E5 438A0417               mov al, byte [r15 + r10]
   458 000001E9 3C72                   cmp al, 114
   459 000001EB 75FE                   jne checkGreen
   460                                 
   461                                 checkGreen:
   462 000001ED 3C67                   cmp al, 103
   463 000001EF 7500                   jne checkBlue
   464 000001F1 EB10                   jmp colorSuccess
   465                                 
   466                                 checkBlue:
   467 000001F3 3C62                   cmp al, 98
   468 000001F5 7500                   jne checkPurple
   469 000001F7 EB0A                   jmp colorSuccess
   470                                 
   471                                 checkPurple:
   472 000001F9 3C79                   cmp al, 121
   473 000001FB 7500                   jne checkWhite
   474 000001FD EB04                   jmp colorSuccess
   475                                 
   476                                 checkWhite:
   477 000001FF 3C77                   cmp al, 119
   478 00000201 7511                   jne clIncorrectValue
   479 00000203 EBFE                   jmp colorSuccess
   480                                 
   481                                 colorSuccess:
   482 00000205 4C8D7D10               lea r15, qword [rbp + 16]
   483 00000209 418907                 mov dword [r15], eax
   484                                 
   485                                 
   486 0000020C B801000000             mov eax, TRUE
   487 00000211 E9EE000000             jmp done
   488                                 
   489                                 clIncorrectValue:
   490 00000216 48C7C7[00000000]       mov rdi, errCLvalue
   491 0000021D E8C7020000             call printString
   492 00000222 B800000000             mov eax, FALSE
   493 00000227 E9D8000000             jmp done
   494                                 
   495                                 clIncorrectSpec:
   496 0000022C 48C7C7[00000000]       mov rdi, errCLsp
   497 00000233 E8B1020000             call printString
   498 00000238 B800000000             mov eax, FALSE
   499 0000023D E9C2000000             jmp done
   500                                 
   501                                 spIncorrectValue:
   502 00000242 48C7C7[00000000]       mov rdi, errSPvalue
   503 00000249 E89B020000             call printString
   504 0000024E B800000000             mov eax, FALSE
   505 00000253 E9AC000000             jmp done
   506                                 
   507                                 spIncorrectSpec:
   508 00000258 48C7C7[00000000]       mov rdi, errSPsp
   509 0000025F E885020000             call printString
   510 00000264 B800000000             mov eax, FALSE
   511 00000269 E996000000             jmp done
   512                                 
   513                                 opInvalidValue:
   514 0000026E 48C7C7[00000000]       mov rdi, errOPvalue
   515 00000275 E86F020000             call printString
   516 0000027A B800000000             mov eax, FALSE
   517 0000027F E980000000             jmp done
   518                                 
   519                                 opIncorrectSpec:
   520 00000284 48C7C7[00000000]       mov rdi, errOPsp
   521 0000028B E859020000             call printString
   522 00000290 B800000000             mov eax, FALSE
   523 00000295 EB70                   jmp done
   524                                 
   525                                 r2InvalidValue:
   526 00000297 48C7C7[00000000]       mov rdi, errR2value
   527 0000029E E846020000             call printString
   528 000002A3 B800000000             mov eax, FALSE
   529 000002A8 EB5D                   jmp done
   530                                 
   531                                 r2InvalidSpec:
   532 000002AA 48C7C7[00000000]       mov rdi, errR2sp
   533 000002B1 E833020000             call printString
   534 000002B6 B800000000             mov eax, FALSE
   535 000002BB EB4A                   jmp done
   536                                 
   537                                 r1InvalidValue:
   538 000002BD 48C7C7[00000000]       mov rdi, errR1value
   539 000002C4 E820020000             call printString
   540 000002C9 B800000000             mov eax, FALSE
   541 000002CE EB37                   jmp done
   542                                 
   543                                 r1InvalidSpec:
   544 000002D0 48C7C7[00000000]       mov rdi, errR1sp
   545 000002D7 E80D020000             call printString
   546 000002DC B800000000             mov eax, FALSE
   547 000002E1 EB24                   jmp done
   548                                 
   549                                 incorrectUsage:
   550 000002E3 48C7C7[00000000]       mov rdi, errUsage
   551 000002EA E8FA010000             call printString
   552 000002EF B800000000             mov eax, FALSE
   553 000002F4 EB11                   jmp done
   554                                 
   555                                 invalidArgCount:
   556 000002F6 48C7C7[00000000]       mov rdi, errBadCL
   557 000002FD E8E7010000             call printString
   558 00000302 B800000000             mov eax, FALSE
   559 00000307 EBFE                   jmp done
   560                                 
   561                                 done:
   562                                 
   563 00000309 415F                   pop r15
   564 0000030B 415E                   pop r14
   565 0000030D 415D                   pop r13
   566 0000030F 415C                   pop r12
   567 00000311 415B                   pop r11
   568 00000313 415A                   pop r10
   569 00000315 5B                     pop rbx
   570 00000316 5D                     pop rbp
   571                                 
   572 00000317 C3                     ret
   573                                 
   574                                 
   575                                 
   576                                 
   577                                 
   578                                 
   579                                 
   580                                 
   581                                 
   582                                 
   583                                 
   584                                 
   585                                 
   586                                 
   587                                 
   588                                 
   589                                 
   590                                 
   591                                 
   592                                 
   593                                 
   594                                 
   595                                 
   596                                 
   597                                 
   598                                 
   599                                 
   600                                 
   601                                 
   602                                 
   603                                 
   604                                 
   605                                 
   606                                 
   607                                 
   608                                 
   609                                 
   610                                 
   611                                 
   612                                 
   613                                 
   614                                 
   615                                 
   616                                 
   617                                 
   618                                 
   619                                 
   620                                 
   621                                 
   622                                 
   623                                 [common radius1 1:4]
   624                                 [common radius2 1:4]
   625                                 [common offPos 1:4]
   626                                 [common speed 1:4]
   627                                 [common color 1:1]
   628                                 
   629                                 [global drawSpiro]
   630                                 drawSpiro:
   631 00000318 4154                    push r12
   632                                 
   633                                 
   634                                 
   635                                 
   636 0000031A 48C7C700400000          mov rdi, GL_COLOR_BUFFER_BIT
   637 00000321 E8(F6FFFFFF)            call glClear
   638                                 
   639                                 
   640 00000326 48C7C700000000          mov rdi, GL_POINTS
   641 0000032D E8(F6FFFFFF)            call glBegin
   642                                 
   643                                 
   644                                 
   645                                 
   646                                 
   647                                 
   648                                 
   649                                 
   650                                 
   651                                 
   652                                 
   653 00000332 8A0425[00000000]       mov al, byte [color]
   654 00000339 3C72                   cmp al, 114
   655 0000033B 751B                   jne setGreen
   656 0000033D C60425[00000000]FF     mov byte [red], 255
   657 00000345 C60425[00000000]00     mov byte [green], 0
   658 0000034D C60425[00000000]00     mov byte [blue], 0
   659 00000355 E98D000000             jmp colorSet
   660                                 
   661                                 setGreen:
   662 0000035A 3C67                   cmp al, 103
   663 0000035C 7518                   jne setBlue
   664 0000035E C60425[00000000]00     mov byte [red], 0
   665 00000366 C60425[00000000]FF     mov byte [green], 255
   666 0000036E C60425[00000000]00     mov byte [blue], 0
   667 00000376 EB72                   jmp colorSet
   668                                 
   669                                 setBlue:
   670 00000378 3C62                   cmp al, 98
   671 0000037A 7518                   jne setPurple
   672 0000037C C60425[00000000]00     mov byte [red], 0
   673 00000384 C60425[00000000]00     mov byte [green], 0
   674 0000038C C60425[00000000]FF     mov byte [blue], 255
   675 00000394 EB54                   jmp colorSet
   676                                 
   677                                 setPurple:
   678 00000396 3C70                   cmp al, 112
   679 00000398 7518                   jne setYellow
   680 0000039A C60425[00000000]FF     mov byte [red], 255
   681 000003A2 C60425[00000000]00     mov byte [green], 0
   682 000003AA C60425[00000000]FF     mov byte [blue], 255
   683 000003B2 EB36                   jmp colorSet
   684                                 
   685                                 setYellow:
   686 000003B4 3C79                   cmp al, 121
   687 000003B6 7518                   jne setWhite
   688 000003B8 C60425[00000000]FF     mov byte [red], 255
   689 000003C0 C60425[00000000]FF     mov byte [green], 255
   690 000003C8 C60425[00000000]00     mov byte [blue], 0
   691 000003D0 EB18                   jmp colorSet
   692                                 
   693                                 
   694                                 setWhite:
   695 000003D2 C60425[00000000]FF     mov byte [red], 255
   696 000003DA C60425[00000000]FF     mov byte [green], 255
   697 000003E2 C60425[00000000]FF     mov byte [blue], 255
   698 000003EA EBFE                   jmp colorSet
   699                                 
   700                                 colorSet:
   701                                 
   702                                 
   703                                 
   704                                 
   705                                 
   706                                 
   707                                 
   708                                 
   709 000003EC F30F100425[00000000]     movss xmm0, dword [limit]
   710 000003F5 F30F2DC0               cvtss2si eax, xmm0
   711 000003F9 F73425[00000000]       div dword [tStep]
   712 00000400 890425[00000000]       mov dword [iterations], eax
   713                                 
   714 00000407 448B2425[00000000]     mov r12d, dword [t]
   715                                 graphLoop:
   716                                 
   717                                 
   718 0000040F F30F2A1C25[00000000]     cvtsi2ss xmm3, dword [radius1]
   719 00000418 F30F581C25[00000000]     addss xmm3, dword [radius2]
   720                                 
   721                                 
   722 00000421 F30F102425[00000000]     movss xmm4, dword [t]
   723 0000042A F30F582425[00000000]     addss xmm4, dword [s]
   724 00000433 F30F5E2425[00000000]     divss xmm4, dword [radius2]
   725                                 
   726                                 
   727 0000043C F30F10EC               movss xmm5, xmm4
   728 00000440 F30F59EB               mulss xmm5, xmm3
   729                                 
   730                                 
   731 00000444 4C89E7                 mov rdi, r12
   732 00000447 E8(F6FFFFFF)           call cosf
   733 0000044C F30F10F3               movss xmm6, xmm3
   734 00000450 F30F59F0               mulss xmm6, xmm0
   735                                 
   736                                 
   737 00000454 F30F2A0C25[00000000]     cvtsi2ss xmm1, dword [offPos]
   738 0000045D F3480F2DFD             cvtss2si rdi, xmm5
   739 00000462 E8(F6FFFFFF)           call cosf
   740 00000467 F30F59C8               mulss xmm1, xmm0
   741                                 
   742                                 
   743 0000046B F30F10D6               movss xmm2, xmm6
   744 0000046F F30F58D1               addss xmm2, xmm1
   745 00000473 F30F111425[00000000]     movss dword [x], xmm2
   746                                 
   747                                 
   748 0000047C 4C89E7                 mov rdi, r12
   749 0000047F E8(F6FFFFFF)           call sinf
   750 00000484 F30F59C3               mulss xmm0, xmm3
   751 00000488 F30F10F0               movss xmm6, xmm0
   752                                 
   753                                 
   754 0000048C F30F2A0C25[00000000]     cvtsi2ss xmm1, dword [offPos]
   755 00000495 F3480F2DFD             cvtss2si rdi, xmm5
   756 0000049A E8(F6FFFFFF)           call sinf
   757 0000049F F30F59C1               mulss xmm0, xmm1
   758                                 
   759                                 
   760 000004A3 F30F58F0               addss xmm6, xmm0
   761                                 
   762 000004A7 41FFC4                 inc r12d
   763 000004AA 443B2425[00000000]     cmp r12d, dword [iterations]
   764 000004B2 0F8251FFFFFF           jb graphLoop
   765                                 
   766                                 
   767                                 
   768                                 
   769 000004B8 E8(F6FFFFFF)            call glEnd
   770 000004BD E8(F6FFFFFF)            call glFlush
   771                                 
   772                                 
   773                                 
   774                                 
   775                                 
   776                                 
   777 000004C2 F30F100425[00000000]     movss xmm0, dword [speed]
   778 000004CB F30F5E0425[00000000]     divss xmm0, dword [scale]
   779 000004D4 F30F580425[00000000]     addss xmm0, dword [s]
   780 000004DD F30F110425[00000000]     movss dword [s], xmm0
   781                                 
   782                                 
   783                                 
   784                                 
   785 000004E6 E8(F6FFFFFF)            call glutPostRedisplay
   786                                 
   787 000004EB 415C                    pop r12
   788 000004ED C3                      ret
   789                                 
   790                                 
   791                                 
   792                                 
   793                                 
   794                                 
   795                                 
   796                                 
   797                                 
   798                                 
   799                                 
   800                                 
   801                                 
   802                                 
   803                                 [global printString]
   804                                 printString:
   805                                 
   806                                 
   807                                 
   808                                 
   809 000004EE 4889FB                  mov rbx, rdi
   810 000004F1 48C7C200000000          mov rdx, 0
   811                                 strCountLoop:
   812 000004F8 803B00                  cmp byte [rbx], NULL
   813 000004FB 7406                    je strCountDone
   814 000004FD 48FFC3                  inc rbx
   815 00000500 48FFC2                  inc rdx
   816 00000503 EBF1                    jmp strCountLoop
   817                                 strCountDone:
   818                                 
   819 00000505 4883FA00                cmp rdx, 0
   820 00000509 7411                    je prtDone
   821                                 
   822                                 
   823                                 
   824                                 
   825 0000050B 48C7C001000000          mov rax, SYS_write
   826 00000512 4889FE                  mov rsi, rdi
   827 00000515 48C7C701000000          mov rdi, STDOUT
   828                                 
   829 0000051C 0F05                    syscall
   830                                 
   831                                 
   832                                 
   833                                 
   834                                 prtDone:
   835 0000051E C3                      ret
   836                                 
   837                                 
   838                                 
   839                                 [global StringToNum]
   840                                 StringToNum:
   841                                 
   842 0000051F 51                     push rcx
   843 00000520 53                     push rbx
   844 00000521 52                     push rdx
   845 00000522 4155                   push r13
   846 00000524 4153                   push r11
   847 00000526 4156                   push r14
   848                                 
   849 00000528 48C7C100000000         mov rcx, 0
   850 0000052F 48C7C000000000         mov rax, 0
   851                                 
   852                                 stringSize:
   853 00000536 8A040F                 mov al, byte [rdi + rcx]
   854 00000539 48FFC1                 inc rcx
   855 0000053C 3C00                   cmp al, NULL
   856 0000053E 75F4                   jne stringSize
   857                                 
   858 00000540 48FFC9                 dec rcx
   859 00000543 48C7C300000000         mov rbx, 0
   860 0000054A 49C7C506000000         mov r13, 6
   861 00000551 4989CB                 mov r11, rcx
   862 00000554 49FFCB                 dec r11
   863 00000557 49C7C600000000         mov r14, 0
   864                                 
   865                                 toDigit:
   866 0000055E 0FB6041F               movzx eax, byte [rdi + rbx]
   867 00000562 83E830                 sub eax, 48
   868                                 
   869 00000565 4983FB00               cmp r11, 0
   870 00000569 7500                   jne exp
   871 0000056B EB0A                   jmp continue
   872                                 
   873                                 exp:
   874 0000056D 41F7E5                 mul r13d
   875 00000570 49FFCB                 dec r11
   876 00000573 4983FB00               cmp r11, 0
   877 00000577 75F2                   jne exp
   878                                 
   879                                 continue:
   880 00000579 4101C6                 add r14d, eax
   881                                 
   882 0000057C 48FFC3                 inc rbx
   883 0000057F 48FFC9                 dec rcx
   884 00000582 4989CB                 mov r11, rcx
   885 00000585 49FFCB                 dec r11
   886 00000588 4883F900               cmp rcx, 0
   887 0000058C 75CE                   jne toDigit
   888                                 
   889 0000058E 4489F0                 mov eax, r14d
   890                                 
   891 00000591 415E                   pop r14
   892 00000593 415B                   pop r11
   893 00000595 415D                   pop r13
   894 00000597 5A                     pop rdx
   895 00000598 5B                     pop rbx
   896 00000599 59                     pop rcx
   897                                 
   898 0000059A C3                     ret
