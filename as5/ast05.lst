     1                                 %line 1+1 ast05.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 
     8                                 
     9                                 
    10                                 
    11                                 
    12                                 [section .data]
    13                                 
    14                                 
    15                                 
    16                                 NULL equ 0
    17                                 
    18                                 TRUE equ 1
    19                                 FALSE equ 0
    20                                 
    21                                 EXIT_SUCCESS equ 0
    22                                 SYS_exit equ 60
    23                                 
    24 00000000 790400006F04000063-    sideLens dd 1145, 1135, 1123, 1123, 1123
    25 00000000 040000630400006304-
    26 00000000 0000               
    27 00000014 E6040000AE05000080-    dd 1254, 1454, 1152, 1164, 1542
    28 00000014 0400008C0400000606-
    29 00000014 0000               
    30 00000028 49050000B10500009E-    dd 1353, 1457, 1182, 1142, 1354
    31 00000028 040000760400004A05-
    32 00000028 0000               
    33 0000003C 540500006E04000082-    dd 1364, 1134, 1154, 1344, 1142
    34 0000003C 040000400500007604-
    35 0000003C 0000               
    36 00000050 95040000070600007F-    dd 1173, 1543, 1151, 1352, 1434
    37 00000050 040000480500009A05-
    38 00000050 0000               
    39 00000064 4B0500000D04000063-    dd 1355, 1037, 1123, 1024, 1453
    40 00000064 04000000040000AD05-
    41 00000064 0000               
    42 00000078 6E0400005608000084-    dd 1134, 2134, 1156, 1134, 1142
    43 00000078 0400006E0400007604-
    44 00000078 0000               
    45 0000008C F3040000500400006E-    dd 1267, 1104, 1134, 1246, 1123
    46 0000008C 040000DE0400006304-
    47 0000008C 0000               
    48 000000A0 6E0400008904000098-    dd 1134, 1161, 1176, 1157, 1142
    49 000000A0 040000850400007604-
    50 000000A0 0000               
    51 000000B4 81040000A9040000A0-    dd 1153, 1193, 1184, 1142, 2034
    52 000000B4 04000076040000F207-
    53 000000B4 0000               
    54 000000C8 85007200AD00830073-    apothemLens dw 133, 114, 173, 131, 115
    55 000000C8 00                 
    56 000000D2 A400AD00AE007B009C-    dw 164, 173, 174, 123, 156
    57 000000D2 00                 
    58 000000DC 9000980083008E009C-    dw 144, 152, 131, 142, 156
    59 000000DC 00                 
    60 000000E6 73007C008800AF0092-    dw 115, 124, 136, 175, 146
    61 000000E6 00                 
    62 000000F0 71007B009900A70087-    dw 113, 123, 153, 167, 135
    63 000000F0 00                 
    64 000000FA 72008100A400A70086-    dw 114, 129, 164, 167, 134
    65 000000FA 00                 
    66 00000104 74007100A4009900A5-    dw 116, 113, 164, 153, 165
    67 00000104 00                 
    68 0000010E 7E0070009D00A70086-    dw 126, 112, 157, 167, 134
    69 0000010E 00                 
    70 00000118 7500720075007D0099-    dw 117, 114, 117, 125, 153
    71 00000118 00                 
    72 00000122 7B00AD0073006A0071-    dw 123, 173, 115, 106, 113
    73 00000122 00                 
    74 0000012C 32000000               length dd 50
    75 00000130 00000000               perimMin dd 0
    76 00000134 00000000               perimEstMed dd 0
    77 00000138 00000000               perimMax dd 0
    78 0000013C 00000000               perimSum dd 0
    79 00000140 00000000               perimAve dd 0
    80 00000144 00000000               areaMin dd 0
    81 00000148 00000000               areaEstMed dd 0
    82 0000014C 00000000               areaMax dd 0
    83 00000150 00000000               areaSum dd 0
    84 00000154 00000000               areaAve dd 0
    85                                 
    86                                 
    87                                 [section .bss]
    88 00000000 <gap>                  hexPerims resd 50
    89 000000C8 <gap>                  hexAreas resd 50
    90                                 
    91                                 
    92                                 
    93                                 
    94                                 
    95                                 [section .text]
    96                                 [global _start]
    97                                 _start:
    98                                 
    99                                 
   100                                 
   101                                 
   102                                 
   103                                 
   104 00000000 48C7C000000000         mov rax, 0
   105 00000007 48C7C100000000         mov rcx, 0
   106                                 
   107                                 mainLoop:
   108 0000000E 8B048D[00000000]       mov eax, dword [sideLens + (rcx * 4)]
   109 00000015 BB06000000             mov ebx, 6
   110 0000001A F7E3                   mul ebx
   111 0000001C 89048D[00000000]       mov dword [hexPerims + (rcx * 4)], eax
   112 00000023 89148D[04000000]       mov dword [hexPerims + (rcx * 4) + 4], edx
   113                                 
   114                                 
   115 0000002A 0FB78409[00000000]     movzx eax, word [apothemLens + (rcx * 2)]
   116 00000032 BB02000000             mov ebx, 2
   117 00000037 F7248D[00000000]       mul dword [hexPerims + (rcx * 4)]
   118 0000003E 448B348D[00000000]     mov r14d, dword [hexPerims + (rcx * 4)]
   119 00000046 99                     cdq
   120 00000047 F7F3                   div ebx
   121 00000049 89048D[00000000]       mov dword [hexAreas + (rcx * 4)], eax
   122 00000050 448B3C25[00000000]     mov r15d, dword [hexAreas]
   123                                 
   124 00000058 48FFC1                 inc rcx
   125 0000005B 3B0C25[00000000]       cmp ecx, dword [length]
   126 00000062 72A8                   jb mainLoop
   127                                 
   128                                 
   129                                 
   130 00000064 48C7C100000000         mov rcx, 0
   131 0000006B 8B0425[00000000]       mov eax, dword [hexPerims]
   132 00000072 890425[00000000]       mov dword [perimMax], eax
   133 00000079 890425[00000000]       mov dword [perimMin], eax
   134                                 
   135                                 perimeterLoop:
   136 00000080 8B048D[00000000]       mov eax, dword [hexPerims + (rcx * 4)]
   137 00000087 010425[00000000]       add dword [perimSum], eax
   138                                 
   139 0000008E 390425[00000000]       cmp dword [perimMax], eax
   140 00000095 7200                   jb swapMax
   141 00000097 EB05                   jmp checkMin
   142                                 
   143                                 swapMax:
   144 00000099 890425[00000000]       mov dword [perimMax], eax
   145                                 
   146                                 checkMin:
   147 000000A0 390425[00000000]       cmp dword [perimMin], eax
   148 000000A7 7700                   ja swapMin
   149 000000A9 EB05                   jmp continue
   150                                 
   151                                 swapMin:
   152 000000AB 890425[00000000]       mov dword [perimMin], eax
   153                                 
   154                                 continue:
   155                                 
   156 000000B2 48FFC1                 inc rcx
   157 000000B5 3B0C25[00000000]       cmp ecx, dword [length]
   158 000000BC 75C0                   jne perimeterLoop
   159                                 
   160                                 
   161 000000BE 8B0425[00000000]       mov eax, dword [perimSum]
   162 000000C5 99                     cdq
   163 000000C6 F73425[00000000]       div dword [length]
   164 000000CD 890425[00000000]       mov dword [perimAve], eax
   165                                 
   166 000000D4 8B0425[00000000]       mov eax, dword [length]
   167 000000DB 99                     cdq
   168 000000DC BB02000000             mov ebx, 2
   169 000000E1 F7F3                   div ebx
   170 000000E3 89C1                   mov ecx, eax
   171                                 
   172 000000E5 8B048D[00000000]       mov eax, dword [hexPerims + (rcx * 4)]
   173 000000EC 03048D[FCFFFFFF]       add eax, dword [hexPerims + (rcx * 4) - 4]
   174 000000F3 BB02000000             mov ebx, 2
   175 000000F8 99                     cdq
   176 000000F9 F7F3                   div ebx
   177 000000FB 890425[00000000]       mov dword [perimEstMed], eax
   178                                 
   179                                 
   180                                 
   181 00000102 48C7C100000000         mov rcx, 0
   182 00000109 8B0425[00000000]       mov eax, dword [hexAreas]
   183 00000110 890425[00000000]       mov dword [areaMax], eax
   184 00000117 890425[00000000]       mov dword [areaMin], eax
   185                                 
   186                                 areaLoop:
   187 0000011E 8B048D[00000000]       mov eax, dword [hexAreas + (rcx * 4)]
   188 00000125 010425[00000000]       add dword [areaSum], eax
   189                                 
   190 0000012C 390425[00000000]       cmp dword [areaMax], eax
   191 00000133 7200                   jb swapMaxArea
   192 00000135 EB05                   jmp checkMinArea
   193                                 
   194                                 swapMaxArea:
   195 00000137 890425[00000000]       mov dword [areaMax], eax
   196                                 
   197                                 checkMinArea:
   198 0000013E 390425[00000000]       cmp dword [areaMin], eax
   199 00000145 7700                   ja swapMinArea
   200 00000147 EB05                   jmp continueArea
   201                                 
   202                                 swapMinArea:
   203 00000149 890425[00000000]       mov dword [areaMin], eax
   204                                 
   205                                 continueArea:
   206                                 
   207 00000150 48FFC1                 inc rcx
   208 00000153 3B0C25[00000000]       cmp ecx, dword [length]
   209 0000015A 75C0                   jne areaLoop
   210                                 
   211                                 
   212 0000015C 8B0425[00000000]       mov eax, dword [areaSum]
   213 00000163 99                     cdq
   214 00000164 F73425[00000000]       div dword [length]
   215 0000016B 890425[00000000]       mov dword [areaAve], eax
   216                                 
   217 00000172 8B0425[00000000]       mov eax, dword [length]
   218 00000179 99                     cdq
   219 0000017A BB02000000             mov ebx, 2
   220 0000017F F7F3                   div ebx
   221 00000181 89C1                   mov ecx, eax
   222                                 
   223 00000183 8B048D[00000000]       mov eax, dword [hexAreas + (rcx * 4)]
   224 0000018A 03048D[FCFFFFFF]       add eax, dword [hexAreas + (rcx * 4) - 4]
   225 00000191 BB02000000             mov ebx, 2
   226 00000196 99                     cdq
   227 00000197 F7F3                   div ebx
   228 00000199 890425[00000000]       mov dword [areaEstMed], eax
   229                                 
   230                                 
   231                                 
   232                                 
   233                                 last:
   234 000001A0 48C7C03C000000          mov rax, SYS_exit
   235 000001A7 48C7C700000000          mov rdi, EXIT_SUCCESS
   236 000001AE 0F05                    syscall
   237                                 
